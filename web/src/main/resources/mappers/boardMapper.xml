<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
	PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="BoardMapper">

	<insert id="create">
		insert into board (title, contents)
		values ( #{title}, #{contents})
	</insert>
	
	<select id="read" resultType = "kr.co.web.domain.BoardVO">
		select *
		from board
		where board_number = #{board_number}
	</select>
	
	<update id="update">
		update board
		set title = #{title}, contents = #{contents}
		where board_number = #{board_number}
	</update>
	
	<delete id="delete">
		delete
		from board
		where board_number = #{board_number}
	</delete>
	
	<select id="listAll" resultType = "kr.co.web.domain.BoardVO">
		select *
		from board
		order by board_number desc, create_date desc
	</select>
	
	<select id="listPage" resultType="kr.co.web.domain.BoardVO">
		select *
		from board
		where board_number > 0
		order by board_number desc, create_date desc
		limit #{pageStart}, #{perPageNum}
	</select>
	
	<select id="gettotalcount" resultType="int">
		select count(board_number)
		from board
		where board_number > 0;
	</select>
	
	<update id="viewCount" parameterType="int">
		update board
		set view_count = view_count + 1
		where board_number = #{board_number}
	</update>
	
	<insert id="userCreate">
	insert into user(identification, password, name) 
	values ( #{identification}, #{password}, #{name})
	</insert>
	
</mapper>